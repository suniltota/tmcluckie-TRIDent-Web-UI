<div class="col-sm-12">
	<h4>Loan Calculations & Qualified Mortgage</h4> 
	<span  class="col-sm-12 padding0">
        <table class="table LoanCostsSection table-bordered margin5tb"  style="border:0px;">
		      <tr>
		        <th colspan="2" class="innerSectionHeader col-sm-6">Loan Calculations</th>
				<th colspan="2" class="innerSectionHeader col-sm-6">Qualified Mortgage</th>
		      </tr>
		      <tr>
		        <td>
		        	<span class="margin5tb col-sm-10">Total of Payments <span class="required">*</span>
		        	</span>
		        </td>
				<td>
					<div class="input-group ">
						<span class="input-group-addon input-default">$</span>
		        		<actualize-input ng-model="cdformdata.loanCalculationsQualifiedMortgage.loanCalculationModel.feeSummaryTotalOfAllPaymentsAmount" name="feeSummaryTotalOfAllPaymentsAmount" toolTipPos = "top" custommessage="Please enter a valid dollar amount."  dependencies="decimal-digits-with-number-format  require-field">
                		</actualize-input>
                		<help-verbiage name="CD_LoanCalculationTotalPayments_Help" title="help_tooltip_padding"></help-verbiage>
		        	</div>

		        </td>
				<td valign="middle">
		        	<span class="col-sm-11">Reg.Z Excluded Bona Fide Discount Points Indicator <span class="required">*</span>
		        	</span>
		        </td>
		        <td>
		           <div class="input-group col-sm-12">
		        	<select class="form-control padding0" ng-model="cdformdata.loanCalculationsQualifiedMortgage.qualifiedMortgage.regulationZExcludedBonaFideDiscountPointsIndicator" ng-options="option.id as option.name for option in dropDownBooleanOptions" >
              		</select>
              		<help-verbiage name="CD_QualifiedMortgageRegZExcludedBonaFideDiscountPointsIndicator_Help" title="help_tooltip_padding_left"></help-verbiage>
              		</div>
		        </td>
		      </tr>
			  
			  <tr>
		        <td>
		        	<span class="margin5tb col-sm-10">Finance Charge <span class="required">*</span></span>
		        </td>
				<td>
				<div class="input-group">
					<span class="input-group-addon input-default">$</span>
		        	<actualize-input ng-model="cdformdata.loanCalculationsQualifiedMortgage.loanCalculationModel.feeSummaryTotalFinanceChargeAmount" name="feeSummaryTotalFinanceChargeAmount" toolTipPos = "top" custommessage="Please enter a valid dollar amount."  dependencies="decimal-digits-with-number-format  require-field">
                	</actualize-input>
                	<help-verbiage name="CD_LoanCalculationFinanceCharge_Help" title="help_tooltip_padding"></help-verbiage>
		        </div>
		        </td>
				<td valign="middle">
		        	<span class="col-sm-11">Reg. Z Excluded Bona Fide Discount Points Percent <span class="required">*</span>
		        	</span>
		        </td>
		        <td>
		        <div class="input-group">
						<actualize-input name="regulationZExcludedBonaFideDiscountPointsPercent" ng-model="cdformdata.loanCalculationsQualifiedMortgage.qualifiedMortgage.regulationZExcludedBonaFideDiscountPointsPercent" toolTipPos = "top" custommessage="Please enter a valid percent" dependencies="percentage-format" ng-disabled="!cdformdata.loanCalculationsQualifiedMortgage.qualifiedMortgage.regulationZExcludedBonaFideDiscountPointsIndicator">
                		</actualize-input>
						<span class="input-group-addon input-default">%</span>
						<help-verbiage name="CD_QualifiedMortgageRegZExcludedBonaFideDiscountPointsPercent_Help" title="help_tooltip_padding_left"></help-verbiage>
		        </div>
		        </td>
		      </tr>
			  
			  <tr>
		        <td>
		        	<span class="margin5tb col-sm-10">Amount Financed <span class="required">*</span></span>
		        </td>
				<td>
				<div class="input-group">
					<span class="input-group-addon input-default">$</span>
		        	<actualize-input ng-model="cdformdata.loanCalculationsQualifiedMortgage.loanCalculationModel.feeSummaryTotalAmountFinancedAmount" name="feeSummaryTotalAmountFinancedAmount" toolTipPos = "top" custommessage="Please enter a valid dollar amount."  dependencies="decimal-digits-with-number-format  require-field">
                	</actualize-input>
                	<help-verbiage name="CD_LoanCalculationAmountFinanced_Help" title="help_tooltip_padding"></help-verbiage>
		        </div>
		        </td>
				<td valign="middle">
		        	<span class="col-sm-11">Reg. Z Excluded Total Affiliate Fees Amount 
		        	</span>

		        </td>
		        <td>
		        <div class="input-group">
					<span class="input-group-addon input-default">$</span>
		        	<input type="text" class="form-control padding0 col-sm-4" ng-model="cdformdata.loanCalculationsQualifiedMortgage.qualifiedMortgage.regulationZTotalAffiliateFeesAmount" decimal-digits-with-number-format>
		        	<help-verbiage name="CD_QualifiedMortgageRegZExcludedBonaFideTotalAffiliateFeesAmount_Help" title="help_tooltip_padding_left"></help-verbiage>
		        </div>
		        </td>
		      </tr>
			  
			  <tr>
		        <td>
		        	<span class="margin5tb col-sm-10">Annual Percentage Rate (APR) <span class="required">*</span>
		        	</span>
		        </td>
				<td>
				<div class="input-group">
					<actualize-input name="aprPercent" ng-model="cdformdata.loanCalculationsQualifiedMortgage.loanCalculationModel.aprPercent" toolTipPos = "top" custommessage="Please enter a valid percent" dependencies="percentage-format" >
                		</actualize-input>
					<span class="input-group-addon input-default">%</span>
					<help-verbiage name="CD_LoanCalculationAPR_Help" title="help_tooltip_padding"></help-verbiage>
		        </div>
		        </td>
				<td valign="middle">
		        	<span class="col-sm-11">Reg. Z Excluded Total Loan Amount <span class="required">*</span>
		        	</span>
		        </td>
		        <td>
		        <div class="input-group">
					<span class="input-group-addon input-default">$</span>
		        	<actualize-input ng-model="cdformdata.loanCalculationsQualifiedMortgage.qualifiedMortgage.regulationZTotalLoanAmount" name="regulationZTotalLoanAmount" toolTipPos = "top" custommessage="Please enter a valid dollar amount."  dependencies="decimal-digits-with-number-format  require-field">
                	</actualize-input>
                	<help-verbiage name="CD_QualifiedMortgageRegZExcludedTotalLoanAmount_Help" title="help_tooltip_padding_left"></help-verbiage>
		        </div>
		        </td>
		      </tr>
			  
			   <tr>
		        <td>
		        	<span class="margin5tb col-sm-10">Total Interest Percentage (TIP) <span class="required">*</span>
		        	</span>
		        </td>
				<td>
				<div class="input-group">
					   	<actualize-input name="feeSummaryTotalInterestPercent" ng-model="cdformdata.loanCalculationsQualifiedMortgage.loanCalculationModel.feeSummaryTotalInterestPercent" toolTipPos = "top" custommessage="Please enter a valid percent" dependencies="percentage-format" >
                		</actualize-input>

					   	<span class="input-group-addon input-default">%</span>
					   	<help-verbiage name="CD_LoanCalculationTIP_Help" title="help_tooltip_padding"></help-verbiage>

		        </td>
				<td valign="middle">
		        	<span class="col-sm-11">Reg. Z Excluded Total Points and Fees Amount <span class="required">*</span>
		        	</span>
		        </td>
		        <td>
		        <div class="input-group">
					<span class="input-group-addon input-default">$</span>
		        	<actualize-input ng-model="cdformdata.loanCalculationsQualifiedMortgage.qualifiedMortgage.regulationZTotalPointsAndFeesAmount" name="regulationZTotalPointsAndFeesAmount" toolTipPos = "top" custommessage="Please enter a valid dollar amount."  dependencies="decimal-digits-with-number-format  require-field">
                	</actualize-input>
                	<help-verbiage name="CD_QualifiedMortgageRegZExcludedTotalPointsFeesAmount_Help" title="help_tooltip_padding_left"></help-verbiage>
		        </div>	
		        </td>
		      </tr>
			  
			  <tr>		      		
					<td rowspan="2">
			        	<span class="margin5tb col-sm-10">Liability After Foreclosure <span class="required">*</span>
			        	<help-verbiage name="CD_LoanCalculationLiabilityForeclosure_Help" title="help_tooltip_text"></help-verbiage>
			        	</span>
			        	
		      		</td>
					<td rowspan="2" style="vertical-align: middle;" >
		      			<span class="text-center">Will Protect Borrower</span>
			        	<span class="text-center pull-right">
			        		<input type="checkbox" ng-model="cdformdata.loanCalculationsQualifiedMortgage.loanCalculationModel.deficiencyRightsPreservedIndicator"
			        			ng-true-value="false" ng-false-value="true">
			        	</span>
						<br>
						<span class="text-center">Will Not Protect Borrower</span>
			        	<span class="text-center pull-right">
			        		<input type="checkbox" ng-model="cdformdata.loanCalculationsQualifiedMortgage.loanCalculationModel.deficiencyRightsPreservedIndicator"
			        			ng-true-value="true" ng-false-value="false">
			        	</span>
		      		</td>
					<td rowspan="2" style="vertical-align: middle;">
		      			<span class="text-left margin5lr">Ability to Repay Method Type <span class="required">*</span>
		      			<help-verbiage name="CD_QualifiedMortgageAbilityRepayMethodType_Help" title="help_tooltip_text"></help-verbiage>
		      			</span>							
						<br><br>
						<span class="text-left margin5lr" ng-show="cdformdata.loanCalculationsQualifiedMortgage.qualifiedMortgage.abilityToRepayMethodType!='General'">Ability to Repay Exemption Reason Type</span>	
								        							
		      		</td>
		      		<td rowspan="2">
		      			<select class="form-control padding0" ng-model="cdformdata.loanCalculationsQualifiedMortgage.qualifiedMortgage.abilityToRepayMethodType" ng-change="repayMethodChange()">
							 <option value="" selected>Select</option>
		                     <option ng-repeat="rMType in repayMethodType" value="{{rMType.value}}">{{rMType.name}}</option>
						</select>
						&nbsp;
						<select class="form-control padding0" ng-model="cdformdata.loanCalculationsQualifiedMortgage.qualifiedMortgage.abilityToRepayExemptionReasonType" ng-show="cdformdata.loanCalculationsQualifiedMortgage.qualifiedMortgage.abilityToRepayMethodType!='General'">
							 <option value="" selected>Select</option>
		                     <option ng-repeat="rERType in repayExemptionReasonType" value="{{rERType.value}}">{{rERType.name}}</option>
						</select>
		      		</td>
		      </tr>
		</table>
		<div class="col-sm-12 margin10t">
			<!-- <span class="pull-left">
				<a class="btn btn-default" ng-show="cdformdata.loanDetail.interestRateIncreaseIndicator==true" ng-click="changeTab('AirTable')">Back</a>
				<a class="btn btn-default" ng-show="cdformdata.loanDetail.interestRateIncreaseIndicator==false" ng-click="changeTab('ApTable')">Back</a>
			</span> -->
			<span class="pull-left">
			<a class="btn btn-primary" ng-show="cdformdata.loanDetail.interestOnlyIndicator==true || cdformdata.payment.paymentRule.paymentOptionIndicator==true || cdformdata.loanInformation.amortizationType=='Step' || cdformdata.loanInformation.amortizationType=='GPM' || cdformdata.loanInformation.amortizationType=='GraduatedPaymentARM' || cdformdata.loanDetail.seasonalPaymentFeatureIndicator==true" ng-click="changeTab('ApTable')">Back</a>
			<a class="btn btn-primary" ng-show="cdformdata.loanDetail.interestOnlyIndicator==false && cdformdata.payment.paymentRule.paymentOptionIndicator==false && cdformdata.loanInformation.amortizationType !='Step' && cdformdata.loanInformation.amortizationType !='GPM' && cdformdata.loanInformation.amortizationType !='GraduatedPaymentARM' && cdformdata.loanDetail.seasonalPaymentFeatureIndicator==false && cdformdata.loanDetail.interestRateIncreaseIndicator==false" ng-click="changeTab('LoanDisclosures')">Back</a>
			<a class="btn btn-default" ng-show="cdformdata.loanDetail.interestOnlyIndicator==false && cdformdata.payment.paymentRule.paymentOptionIndicator==false && cdformdata.loanInformation.amortizationType !='Step' && cdformdata.loanInformation.amortizationType !='GPM' && cdformdata.loanInformation.amortizationType !='GraduatedPaymentARM' && cdformdata.loanDetail.seasonalPaymentFeatureIndicator==false && cdformdata.loanDetail.interestRateIncreaseIndicator==true" ng-click="changeTab('AirTable')">Back</a>
			</span>

			<!-- working Back -->
			<span class="pull-right">
			<a class="btn btn-primary" ng-click="changeTab('ContactInfo')">Next</a>
			</span>
		</div>
</div>
